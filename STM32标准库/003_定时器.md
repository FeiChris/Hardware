# STM32F103ZET6

纯硬件定时   现在基本上很少用了

纯软件用循环空语句实现，但是不精准而且一直占用处理器。一般用在短延时和不精准延时中，如高速ADC。



所以要学习内置的定时计数器，代替cpu计数，常用。

---



### 定时器

有8个16为定时器

高级定时器2个 	TIM1和TIM8 ，挂载在APB2上

通用定时器4个     TIM2到TIM5， 挂载在APB1上

基本定时器2个	 TIM6和TIM7， 挂载在APB1上

慢慢弄清楚这三种定时器所对应的功能

---

##### 基本定时器

+   计数范围：1~65536

 + 功能：只有基本的定时功能，向上计数。还可提供时间基准，或为			数模转换器DAC提供时钟，驱动DAC。
 + 向上

计数器溢出时产生中断或DMA请求。



##### 通用定时器

+   计数范围：1~65536
+   功能：主要用于测量输入脉冲频率和脉冲宽度，输出PWM脉冲
+   向上 ，向下， 双向





##### 高级定时器

​	适用于控制电机

+   计数范围：1~65536
+   向上 ，向下， 双向





## 使用

公式： T = （TIM_Prescaler+1）* （TIM_Period+1）/  TIMxCLK

单位为秒。

TIMxCLK默认为72MHz，相当于72 X 10的6次方

 例：定时1秒

TIM_Prescaler = 36000-1

TIM_Period = 2000-1

TIMxCLK = 72 000 000

T = 36 000 X  2 000 / 72 000 000

   = 1 

先定义结构体

然后初始化TIMx寄存器
